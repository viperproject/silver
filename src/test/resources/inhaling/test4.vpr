field f: Int

method test4(x: Ref, y: Ref)
    requires acc(x.f) && acc(y.f)
{
    x.f := 42
    y.f := 10

    package acc(x.f) --* acc(y.f)
    exhale acc(x.f)

    var p: Int := inhaling (acc(x.f)) in x.f
    var q: Int := inhaling (acc(x.f)) in applying (acc(x.f) --* acc(y.f)) in y.f

    assert q == 10
    //:: ExpectedOutput(assert.failed:assertion.false)
    assert p == 42
}
